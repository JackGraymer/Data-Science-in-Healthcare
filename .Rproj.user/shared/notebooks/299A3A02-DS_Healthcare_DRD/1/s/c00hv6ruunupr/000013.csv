"0",""
"0","# Filter the data for each complete years 2018 to 2023"
"0","Data_18_23 <- Data %>%"
"0","  filter(`Month` >= ym(""2018-01"") & `Month` <= ym(""2023-12""))"
"0",""
"0","# Group the data by occurrence state and year, then sum deaths per year"
"0","Data_18_23 <- Data_18_23 %>%"
"0","  group_by(`Occurrence State`, year = year(`Month`)) %>%"
"0","  summarise(Deaths = sum(Deaths))"
"1","[38;5;232m`summarise()` has grouped output by 'Occurrence State'. You can override using the
`.groups` argument.[39m
"
"0","# Merge the death data with population data by state and year"
"0","Data_with_population <- Data_18_23 %>%"
"0","  left_join(population_data, by = c(""Occurrence State"" = ""State"", ""year"" = ""year""))"
"0",""
"0","# Calculate deaths per 100,000 inhabitants for each year"
"0","Data_with_population <- Data_with_population %>%"
"0","  mutate(Deaths_per_100000 = (Deaths / population_count) * 100000)"
"0",""
"0",""
"0","# Plot the number of deaths per 10,000 inhabitants for each year and state"
"0","ggplot(Data_with_population, aes(x = factor(year), y = Deaths_per_100000, fill = `Occurrence State`)) +"
"0","  geom_bar(stat = ""identity"", position = ""dodge"") +"
"0","  labs(title = ""Drug-Related Deaths per 100,000 Residents by State (2018-2023)"","
"0","       x = ""Year"","
"0","       y = ""Deaths per 100'000 Inhabitants"")"
